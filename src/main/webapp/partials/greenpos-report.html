<div class="row-fluid" x-ng-controller="embryo.GreenPosCtrl">
	<h2>
		<a class="close embryo-close-panel" href="#" style="float: right">&times;</a> Ship Report
	</h2>
	<form id="greenPosForm" name="greenPosForm" class="form-horizontal" novalidate>
		<div x-ng-show="warningMessages" class="alert alert-warning">
			<span x-ng-repeat="msg in warningMessages">{{msg}}<br /></span>
		</div>
		<div x-ng-show="alertMessages" class="alert alert-error">
			<span x-ng-repeat="msg in alertMessages">{{msg}}<br /></span>
		</div>
		<div x-ng-show="message" class="alert alert-info">{{message}}</div>
		<div class="row">
			<div class="control-group">
				<label class="control-label" for="gReportType">Report Type</label>
				<div class="controls">

					<select id="gReportType" name="gpReportType" x-ng-options="i.id as i.name for i in reportTypes"
						x-ng-model="report.type" class="input-large" required>
					</select> <span x-ng-show="greenPosForm.gpReportType.$error.required && greenPosForm.gpReportType.$dirty"
						class="msg-invalid">Value required</span>

				</div>
			</div>

            <!--

			<div class="control-group">
				<label class="control-label">Vessel Name</label>
				<div class="controls">
					<input type="text" name="gpVesselName" x-ng-model="report.vesselName" required /> <input type="hidden"
						x-ng-model="report.vesselMaritimeId" /> <span
						x-ng-show="greenPosForm.gpVesselName.$error.required && greenPosForm.gpVesselName.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label">MMSI</label>
				<div class="controls">
					<input type="text" class="input-medium" name="gpMmsi" x-ng-model="report.mmsi" required /> <span
						x-ng-show="greenPosForm.gpMmsi.$error.required && greenPosForm.gpMmsi.$dirty" class="msg-invalid">Value
						required</span>
				</div>

			</div>
			<div class="control-group">
				<label class="control-label">Call Sign</label>
				<div class="controls">
					<input type="text" name="gpCallsign" class="input-medium" x-ng-model="report.callSign" required /> <span
						x-ng-show="greenPosForm.gpCallsign.$error.required && greenPosForm.gpCallsign.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>

            -->

			<div class="control-group" x-ng-show="isVisible('destination')">
				<label class="control-label" for="gpDestination">Destination</label>
				<div class="controls">
					<input id="gpDestination" name="gpDestination" type="text" class="input-medium" x-ng-model="report.destination"
						x-ng-required="isVisible('destination')" /> <span
						x-ng-show="greenPosForm.gpDestination.$error.required && greenPosForm.gpDestination.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group" x-ng-show="isVisible('eta')">
				<label class="control-label" for="gpEta">Estimated Time of Arrival (UTC)</label>
				<div class="controls">
                    <datetimepicker id="gpEta" name="gpEta" type="text" class="input-medium" x-ng-model="report.eta"/> <span
						x-ng-show="greenPosForm.gpEta.$error.required && greenPosForm.gpEta.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group" x-ng-show="isVisible('personsOnBoard')">
				<label class="control-label" for="gpPersons">Persons on Board</label>
				<div class="controls">
					<input id="gpPersons" name="gpPersons" type="text" class="input-small" x-ng-model="report.personsOnBoard"
						x-ng-required="isVisible('personsOnBoard')" /> <span
						x-ng-show="greenPosForm.gpPersons.$error.required && greenPosForm.gpPersons.$dirty" class="msg-invalid">Value
						required</span>
					<!-- <span x-msg-required="greenPosForm.gpPersons"></span> -->
				</div>
			</div>
			<div class="control-group" x-ng-show="isVisible('course')">
				<label class="control-label" for="gpCourse">Course</label>
				<div class="controls">
					<input name="gpCourse" id="gpCourse" type="text" class="input-small" x-ng-model="report.course"
						x-ng-required="isVisible('course')" /> <span
						x-ng-show="greenPosForm.gpCourse.$error.required  && greenPosForm.gpCourse.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group" x-ng-show="isVisible('speed')">
				<label class="control-label" for="gpSpeed">Speed</label>
				<div class="controls">
					<input id="gpSpeed" name="gpSpeed" type="text" class="input-small" x-ng-model="report.speed"
						x-ng-required="isVisible('speed')" /> <span
						x-ng-show="greenPosForm.gpSpeed.$error.required && greenPosForm.gpSpeed.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="gpLat">Latitude</label>
				<div class="controls">
					<input latitude id="gpLat" name="gpLat" type="text" class="input-medium" x-ng-model="report.lat" required /> <span
						x-ng-show="greenPosForm.gpLat.$error.required && greenPosForm.gpLat.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="gpLon">Longitude</label>
				<div class="controls">
					<input longitude id="gpLon" name="gpLon" type="text" class="input-medium" x-ng-model="report.lon" required /> <span
						x-ng-show="greenPosForm.gpLon.$error.required && greenPosForm.gpLon.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group" x-ng-show="isVisible('weather')">
				<label class="control-label" for="gpWeather">Weather</label>
				<div class="controls">
					<textarea id="gpWeather" name="gpWeather" rows="3" x-ng-model="report.weather" x-ng-required="isVisible('weather')"></textarea>
					<span x-ng-show="greenPosForm.gpWeather.$error.required && greenPosForm.gpWeather.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group" x-ng-show="isVisible('ice')">
				<label class="control-label" for="gpIce">Ice Observations</label>
				<div class="controls">
					<textarea id="gpIce" name="gpIce" rows="3" x-ng-model="report.ice" x-ng-required="isVisible('ice')"></textarea>
					<span x-ng-show="greenPosForm.gpIce.$error.required && greenPosForm.gpIce.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
			<div class="control-group" x-ng-show="isVisible('deviation')">
				<label class="control-label" for="gpDeviation">Deviation Description</label>
				<div class="controls">
					<textarea id="gpDeviation" name="gpDeviation" rows="3" x-ng-model="report.deviation"></textarea>
					<span x-ng-show="greenPosForm.gpDeviation.$error.required && greenPosForm.gpDeviation.$dirty" class="msg-invalid">Value
						required</span>
				</div>
			</div>
		</div>


		<div x-ng-show="report.type == 'FR' && hasActiveRoute">
			<h3>Active Route</h3>
			<div class="row">
				<div class="control-group">
					<label class="control-label" for="deactivate">Deactive</label>
					<div class="controls">
						<input id="deactivate" name="deactivate" type="checkbox" x-ng-model="deactivate" />
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<span class="pull-right">
				<button type="button" class="btn" x-ng-click="reset()">Reset</button> &nbsp;
				<button type="button" x-ng-click="sendReport()" x-ng-disabled="greenPosForm.$invalid" class="btn btn-primary">Send</button>

			</span>
		</div>
	</form>
</div>
