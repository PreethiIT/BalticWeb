<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BalticWeb - Danish Maritime Authority </title>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-sanitize.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.1.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/1.4.5/numeral.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment-with-locales.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">


    <link rel="stylesheet" href="http://openlayers.org/en/v3.14.2/css/ol.css" type="text/css">
    <link rel="stylesheet" href="prototype/css/ext/ol3-layerswitcher.css" />
    <link rel="stylesheet" href="prototype/css/layerswitch/scroll.css" />
    <link rel="stylesheet" href="prototype/css/balticweb.css" />

    <script src="http://openlayers.org/en/v3.14.2/build/ol.js" type="text/javascript"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
<div ng-controller="AppController">

    <div ng-include="'/prototype/partials/menu.html'"></div>

    <div class="container-fluid">
        <div class="row">

            <div class="col-lg-10 col-md-10 col-sm-9">
                <ol-map class="map maritimeweb-map" map-state="mapState">
                    <map-layer-group layer-group="mapBackgroundLayers"></map-layer-group>
                    <map-layer-group layer-group="mapWeatherLayers"></map-layer-group>
                    <map-layer-group layer-group="mapMiscLayers"></map-layer-group>
                    <map-nw-nm-layer message-list="nwNmMessages" name="NW-NM"></map-nw-nm-layer>
                    <map-vessel-layer vessels="vessels" name="Vessels" alerts="alerts"></map-vessel-layer>
                    <map-current-pos-btn></map-current-pos-btn>
                    <map-scale-line units="nautical"></map-scale-line>
                    <map-mouse-position></map-mouse-position>
                    <map-layer-switcher></map-layer-switcher>
                    <map-overview collapsed="true"></map-overview>
                </ol-map>
            </div>

            <div class="col-lg-2 col-md-2 col-sm-3 sidebar">

                <div style="margin-right: 10px">
                    <uib-accordion close-others="oneAtATime">
                        <uib-accordion-group >
                            <uib-accordion-heading>
                                Vessels within area <span class="badge info" ng-bind="vessels.length"></span>
                                <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                            </uib-accordion-heading>


                            <div class="list-group-item text-primary" ng-repeat="vessel in vessels | limitTo: 100">
                                {{vessel.name}} x:{{vessel.x}} y:{{vessel.y}} angle:{{vessel.angle}}  {{vessel.type}} mmsi:{{vessel.mmsi}} {{vessel.callsign}} {{vessel.moored}}
                            </div>

                        </uib-accordion-group>
                    </uib-accordion>


                    <uib-accordion close-others="oneAtATime">
                        <uib-accordion-group >
                            <uib-accordion-heading>
                                NW-NM messages <span class="badge info" ng-bind="nwNmMessages.length"></span>
                                <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                            </uib-accordion-heading>


                            <div class="list-group-item text-primary" ng-repeat="msg in nwNmMessages | limitTo: 100">
                                <a href ng-click="showNwNmDetails(msg)">{{msg.descs[0].title}}</a>
                            </div>

                        </uib-accordion-group>
                    </uib-accordion>

                    <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" dismiss-on-timeout="{{alert.timeout}}">{{alert.msg}}</uib-alert>
                </div>
            </div>

        </div><!-- row end -->
        <!--/div> container end -->
    </div><!-- container end -->
</div>

<script src="keycloak.js" type="text/javascript"></script>
<script src="js/keycloak-angular-initializer.js" type="text/javascript"></script>
<script src="prototype/js/app.js" type="text/javascript"></script>
<script src="prototype/js/app-ctrl.js" type="text/javascript"></script>
<script src="prototype/map/position.js" type="text/javascript"></script>
<script src="prototype/map/ol3-layerswitcher.js"></script>
<script src="prototype/map/map-service.js" type="text/javascript"></script>
<script src="prototype/map/map-directives.js" type="text/javascript"></script>
<script src="prototype/vessel/ais-vessel-layer.js" type="text/javascript"></script>
<script src="prototype/nw-nm/nw-nm-layer.js" type="text/javascript"></script>


</body>
</html>