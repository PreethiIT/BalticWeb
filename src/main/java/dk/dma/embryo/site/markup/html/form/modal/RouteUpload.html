<html lang="en" xmlns:wicket="http://wicket.apache.org">
<wicket:panel>

	<div id="routeUpload" ng-controller="embryo.routeUpload.Ctrl">
		<div wicket:id="myContainer" class="modal hide fade xlarge" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
			aria-hidden="true">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
				<h2 id="myModalLabel">Upload Route</h2>
			</div>
			<div class="modal-body">
				<!-- id and controller must follow each other -->
				<form action="//jquery-file-upload.appspot.com/" method="POST" enctype="multipart/form-data"
					ng-controller="DemoFileUploadController" data-file-upload="options"
					data-ng-class="{'fileupload-processing' : processing() || loadFiles}"
					class="form-horizontal ng-scope ng-pristine ng-valid">

					<div class="row fileupload-buttonbar">
						<div class="span5">

							<span class="btn btn-success fileinput-button" ng-class="{disabled: disabled}"> <i
								class="icon-plus icon-white"></i> <span>Choose </span> <input type="file" name="files[]" multiple
								ng-disabled="disabled">
							</span>

							<button type="button" class="btn btn-primary start" data-ng-click="submit()">
								<i class="icon-upload icon-white"></i> <span>Start upload</span>
							</button>

							<button type="button" class="btn btn-warning cancel" data-ng-click="cancel()">
								<i class="icon-ban-circle icon-white"></i> <span>Cancel upload</span>
							</button>

							<div class="fileupload-loading"></div>
						</div>

						<div class="span5">
							<div class="control-group">
								<label class="control-label" for="voyageName">Associated voyage</label>
								<div class="controls">
									<input ng-disabled="$parent.voyage.isPreselected" id="voyageName" type="text" class="input-large ngTypeahead"
										datasets="voyageData" ng-model="$parent.voyage.name" /> 
									<input name="voyageId" type="hidden" ng-model="$parent.voyage.id" />
								</div>
							</div>
						</div>
						<!-- The global progress information -->
						<!-- <div class="span5 fade" data-ng-class="{in: active()}">-->
						<!-- The global progress bar -->
						<!-- <div class="progress progress-success progress-striped active" data-file-upload-progress="progress()">
								<div class="bar" data-ng-style="{width: num + '%'}"></div>
							</div>-->
						<!-- The extended global progress information -->
						<!-- <div class="progress-extended">&nbsp;</div>
						</div>-->

						<table class="table table-striped files">
							<tbody>
								<!-- ngRepeat: file in queue -->
								<tr data-ng-repeat="file in queue">
									<td data-ng-switch data-on="!!file.thumbnailUrl">
										<div class="preview" data-ng-switch-when="true">
											<a data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}" data-gallery><img
												data-ng-src="{{file.thumbnailUrl}}" alt=""></a>
										</div>
										<div class="preview" data-ng-switch-default data-file-upload-preview="file"></div>
									</td>
									<td>
										<p class="name" data-ng-switch data-on="!!file.url">
											<span data-ng-switch-when="true" data-ng-switch data-on="!!file.thumbnailUrl"> <a
												data-ng-switch-when="true" data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}"
												data-gallery>{{file.name}}</a> <a data-ng-switch-default data-ng-href="{{file.url}}" title="{{file.name}}"
												download="{{file.name}}">{{file.name}}</a>
											</span> <span data-ng-switch-default>{{file.name}}</span>
										</p>
										<div data-ng-show="file.error">
											<span class="label label-important">Error</span> {{file.error}}
										</div>
									</td>
									<td>
										<p class="size">{{file.size | formatFileSize}}</p>
									</td>
									<td>
										<div class="span5" data-ng-class="{in: active()}">
											<!-- The global progress bar -->
											<div class="progress progress-success progress-striped active" data-file-upload-progress="progress()">
												<div class="bar" data-ng-style="{width: num + '%'}"></div>
											</div>
											<!-- The extended global progress information -->
											<div class="progress-extended">&nbsp;</div>
										</div>
									</td>
									<td>
										<button data-ng-controller="FileDestroyController" type="button" class="btn btn-danger destroy"
											data-ng-click="file.$destroy()" data-ng-hide="!file.$destroy">
											<i class="icon-ban-circle icon-white"></i> <span>Delete</span>
										</button>
									</td>
								</tr>
							</tbody>
						</table>

					</div>

				</form>
			</div>
			<div class="modal-footer">
				<input type="submit" class="btn btn-primary" value="Close" ng-click="close()" />
			</div>

		</div>
	</div>
</wicket:panel>
</html>